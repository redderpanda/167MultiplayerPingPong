<!doctype html>
<html>

<head>
    <meta charset='UTF-8' />
    <style>
        #nickName {
            line-height: 20px
        }

        #ip {
            line-height: 20px
        }

        #port {
            line-height: 20px
        }

        #game {
            padding-left: 200px
        }
    </style>
    <script src="fancywebsocket.js"></script>
    <script>
		var Server;

		function send( text ) {
			Server.send( 'message', text );
		}

        function connect(){
            //log('Connecting...');

            var portVal = document.createElement("portVal");
            portVal.value = '1000';

			Server = new FancyWebSocket('ws://' + document.getElementById('ip').value + ':' + portVal.value);

			//$('#message').keypress(function(e) {
			//	if ( e.keyCode == 13 && this.value ) {
			//		log( 'You: ' + this.value );
			//		send( this.value );

			//		$(this).val('');
			//	}
			//});

			//Let the user know we're connected
			Server.bind('open', function() {
                document.getElementById("cntBtn").disabled = true;
				//log( "Connected." );
			});

			//OH NOES! Disconnection occurred.
			Server.bind('close', function( data ) {
                document.getElementById("cntBtn").disabled = false;
				//log( "Disconnected." );
			});

			//Log any messages sent from server
			Server.bind('message', function( payload ) {
				//log( payload );
			});

			Server.connect();
        }

        function disconnect(){
        	Server.disconnect();
        	//log("Disconnecting...");
        }

    </script>
</head>


<body>

    <div id='body'>
        NickName   : <input type='text' id='nickName' name='nickName'>
        </br>
        Server IP  : <input type='text' id='ip' name='ip'>
        </br>
        <button type='button' id='playB'>Play</button>
        </br>
        <button type='button' id='disB'>Disconnect</button>
    </div>

	<div id ='game'>
		<script src="Pong.js"></script>
	</div>
</body>

</html>